(this["webpackJsonpfio-register"]=this["webpackJsonpfio-register"]||[]).push([[0],{421:function(e,t,a){e.exports=a(813)},455:function(e,t){},457:function(e,t){},535:function(e,t){},555:function(e,t){},556:function(e,t){},812:function(e,t,a){},813:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(95),c=a.n(o),l=a(14),s=a(18),i=a(22),u=a(21),d=a(379),m=a(384),f=a(245),p=a(250),h=a(830),E=a(825),g=a(409),b=a(833),C=a(831),O=a(832),v=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.ual.activeUser;return e?r.a.createElement(p.a,{secondary:!0,stacked:!0},r.a.createElement(b.a,null,r.a.createElement(b.a.Content,null,r.a.createElement(b.a.Subheader,null,"Current Account"),r.a.createElement("span",null,e.accountName,"@",e.requestPermission)),r.a.createElement(O.a,{basic:!0,onClick:this.props.ual.logout,style:{marginLeft:"1em"}},"Sign out"))):r.a.createElement(O.a,{content:"Sign in",onClick:this.props.ual.showModal,size:"large",primary:!0})}}]),a}(n.Component),S=a(117),A=a(26),w=a(829),T=a(137),_=a(7),y=a.n(_),I=a(10),R=a(30),N=a(827),k=a(118),B=a(826),F={fio_address:"",owner_fio_public_key:"",max_fee:"",actor:"",tpid:"tpid@greymass"},x=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:F,show:!1},e.onOpen=function(t,a){e.resetData(),e.getAccount(),e.getBalance(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:F})},e.getAccount=function(){var t=e.props.ual.activeUser;t.rpc.get_account(t.accountName).then((function(a){e.setState({account:a,fields:Object.assign({},e.state.fields,{actor:t.accountName,owner_fio_public_key:a.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key})})}))},e.getBalance=function(){var t=e.props.ual.activeUser;t.rpc.get_currency_balance("fio.token",t.accountName,"fio").then((function(t){return e.setState({balance:t})}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x1a5f09714542254caaab363d520adfbd",upper_bound:"0x1a5f09714542254caaab363d520adfbd",limit:1}).then((function(t){e.setState({fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount})})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.address",name:"regaddress",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({errors:t.t0.cause.json.fields});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.basic,n=t.color,o=t.domain,c=t.floated,l=this.state,s=l.balance,i=l.errors,u=l.fee,d=l.fields,m=l.show,f="Create FIO Address";return o&&(f="Create FIO Address (address@".concat(o.name,")")),r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},s?r.a.createElement("strong",null,s[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Address Registration Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},u?r.a.createElement("strong",null,(u.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:i.length,onSubmit:this.transact},Object.keys(d).map((function(t){var a=i.filter((function(e){return e.name===t})),n=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,"fio_address"===t&&r.a.createElement(C.a,{info:!0,header:"FIO Addresses",content:'Enter the desired FIO Address including both the name and the domain, separated by the @ symbol (e.g. "name@'.concat(o?o.name:"domain",'").')}),r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!n&&{content:n.error,pointing:"above"},name:t,onChange:e.onChange,value:d[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Register Address",floated:"right",primary:!0})))),header:"Register a FIO Address",open:m,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:void 0===a||a,color:n,content:f,floated:c,icon:"plus",onClick:this.show,primary:!0})})}}]),a}(n.Component),j=["BTC","ETH","EOS","$DAG","8BIT","ABA","ABBC","ABT","AC","ACA","ACC","ACM","ACT","ADA","ADF","ADS","AE","AEON","AERGO","AETH","AG","AGM","AIB","AILE","AIN","AION","AIOZ","AKA","ALGO","ALIAS","AMA","AMO","AMS","ANDES","ANK","ANON","AOA","AQUA","AR","ARA","ARDR","AREPA","ARG","ARK","ARW","ASF","ASK","ATC","ATH","ATN","ATOM","ATP","ATS","AUDAX","AUR","AUX","AXE","AYA","BALLZ","BANANO","BAND","BARE","BBC","BC","BCA","BCC","BCD","BCH","BCHA","BCN","BCO","BCS","BCX","BCZ","BDX","BEAM","BEET","BELA","BELL","BHD","BHP","BHT","BIFI","BIGUP","BIND","BIO","BIP","BIQ","BIS","BITB","BITC","BITG","BKT","BLAST","BLK","BLOCK","BMV","BNB","BND","BNT","BOLD","BOLI","BONO","BOPO","BOXY","BPA","BPS","BR","BRAVO","BRIT","BRK","BSC","BSD","BSQ","BST","BSV","BTA","BTC2","BTC2X","BTCC","BTCD","BTCP","BTCR","BTCS","BTCV","BTCZ","BTDX","BTF","BTG","BTH","BTM","BTN","BTP","BTQ","BTR","BTS","BTT","BTV","BTW","BTX","BTY","BU","BURST","BUZZ","BYND","BYTZ","BZX","CCA","CCC","CCN","CCX","CCXX","CDN","CDY","CENNZ","CET","CFX","cGLD","CHC","CHI","CHX","CICO","CITY","CKB","CLAM","CLC","CLO","CLR","CLUB","CLX","CMM","CMP","CMT","CNMC","COCOS","COIN","COINEVO","COLX","COS","CPC","CPS","CPU","CRAVE","CRO","CRP","CRUZ","CRW","CRX","CS","CSC","CSDT","CTC","CYB","CZR","DAPS","DASH","DBIC","DBT","DCR","DCT","DEAL","DEO","DFC","DGB","DGC","DGLD","DIN","DIP","DIVER","DIVI","DLC","DMCH","DMD","DMTC","DNA","DNR","DOCK","DOGE","DOGEC","DONU","DOPE","DOT","DROP","DSM","DST","DT3","DTP","DUN","DVT","DX","DXN","DYN","EARTH","EARTHS","EAST","EBST","EC","ECA","ECC","ECN","EDG","EDRC","EFL","EGEM","ELA","ELF","ELLA","EM","EMC2","EOSC","ERC","ERD","ERE","ERG","ESN","ESS","ETC","ETF","ETHO","ETI","ETN","ETP","ETSC","ETZ","EUNO","EVE","EVO","EVT","EWT","EXCL","EXOS","EXP","FAIR","FC8","FCH","FCT","FCTID","FIAT","FIC","FIL","FIMK","FIN","FIO","FIS","FIX","FJC","FLASH","FLO","FLOW","FLR","FLUID","FO","FRA","FREE","FRST","FSN","FTC","FXTC","GALI","GAME","GARD","GB","GBCR","GBT","GBX","GC","GCR","GENOM","GFN","GHOST","GIN","GLEEC","GNX","GO","GOD","GOSS","GRAM","GRC","GRIN","GRS","GTM","GXC","GXX","HASH","HATCH","HBC","HC","HDD","HEAT","HET","HLM","HNC","HNS","HODL","HPB","HSN","HSR","HST","HTDF","HTH","HTML","HTR","HUSH","HYC","HYD","HYN","ICL","ICU","ICX","IDNA","IF","ILT","IMG","INSN","IOC","ION","IOP","IOST","IOTA","IoTE","IOTX","IOV","IPC","IPOS","IQS","IRIS","IXC","JBS","JCT","JOYS","KAL","KAR","KAVA","KELP","KETH","KEX","KIN","KMD","KOBO","KOTO","KPG","KPL","KSM","KTS","KTV","KUMA","kUSD","KUVA","LAMB","LAT","LAX","LBC","LBTC","LCC","LCH","LDCN","LET","LFC","LHD","LINDA","LINX","LKR","LMO","LN","LOKI","LRG","LSK","LTC","LTHN","LTO","LTP","LTZ","LUNA","LUX","LV","LYRA","MAN","MARS","MASS","MBRS","MCASH","MCM","MDM","MEC","MED","MEM","MESG","META","MHC","MIX","MKF","MNP","MNX","MOAC","MOIN","MONA","MONK","MOON","MSR","MTNS","MTR","MUE","MUSIC","MWC","MXT","MXW","MZC","N8V","NANO","NAS","NAV","NBT","NCG","NCH","NEAR","NEBL","NEET","NEO","NEOS","NIM","NIX","NKN","NLC2","NLG","NMC","NODE","NOLLAR","NOR","NOS","NOVO","NPW","NRG","NRO","NSR","NTY","NUKO","NULS","NVC","NXS","NXT","NYC","NYZO","OBSR","OCEAN","ODN","ODX","OGC","OGO","OK","OKP","OKT","OLO","OLT","OMNI","ONE","ONION","ONT","ONX","OOT","OTC","PART","PCN","PCX","PESO","PEXA","PHL","PHR","PINK","PION","PIRL","PIVX","PKB","PKC","PKT","PLC","PLUG","PND","POA","POLIS","POLYX","POT","PPC","PRCY","PRJ","PRKL","PRV","PSB","PTC","PTN","PUT","PWR","QBC","QKC","QLC","QOS","QRK","QRL","QTUM","QVT","RAP","RBTC","RBY","RDD","REOSC","RES","RIC","RICHX","RIL","RIN","RISE","RITO","RNG","RNL","ROGER","ROI","ROSE","RPD","RPT","RUNE","RUPX","RUTA","RVN","RYO","SAFE","SBC","SBTC","SCAP","SCC","SCDO","SCRIBE","SCRT","SDC","SDGO","SEELE","SEELEN","SEM","SEOS","SEQ","SERO","SFRX","SH","SHARD","SHIT","SHM","SHN","SHR","SIERRA","SIN","SKY","SLP","SLR","SLS","SLU","SLX","SMART","SMESH","SMLY","SNOW","SOL","SOOM","SOV","SOX","SPL","SRM","SSC","SSN","SSP","STAK","START","STASH","STB","STEEM","STO","STR","STRAT","STX","SUGAR","SUM","SUMO","SWIFT","SWTC","SYS","TAN","TAO","TEA","TELOS","TEO","TES","TFUEL","THC","THETA","THT","TKEY","TNET","TOA","TOMO","TON","TOP","TPAY","TPC","TRC","TRTL","TRUE","TRX","TT","TWINS","TZC","UBQ","UC","UFO","UGAS","ULC","UMBRU","UND","UNIFY","UNO","USC","USDP","USE","UTE","VAL","VAR","VASH","VC","VCT","VDL","VEE","VEIL","VEO","VESTX","VET","VGO","VIA","VIPS","VITAE","VITE","VIVO","VIVT","VLX","VNSC","Voken","VOX","VSYS","VTC","WAN","WAVES","WBTC","WC","WE","WEB","WGR","WHL","WICC","WOW","X42","XAS","XAX","XAZAB","XBC","XBI","XCH","XCP","XCX","XDAG","XDAI","XDC","XDN","XEM","XEP","XERO","XFE","XHB","XHV","XLM","XLR","XMCC","XMR","XMX","XMY","XND","XNOS","XNS","XPC","XPM","XRD","XRP","XRPHD","XSEL","XSG","XSN","XSPEC","XST","XTH","XTL","XTNC","XTX","XTZ","XUEZ","XVG","XWC","XWCC","XYM","XZC","YAP","YCC","YCE","YEC","YEE","YOU","ZBC","ZBUX","ZCL","ZCR","ZEC","ZEL","ZEN","ZER","ZEST","ZIL","ZILLA","ZNY","ZNZ","ZOC","ZOOM","ZPM","ZRC","ZSLP","ZVC","ZY","ZYD"],D={fio_address:"",public_addresses:[],max_fee:"",actor:"",tpid:"tpid@greymass"},L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onOpen=function(e,t){n.resetData(),n.getAccount(),n.getBalance(),n.getFee()},n.resetData=function(){return n.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},D,{fio_address:n.props.address.name})})},n.getAccount=function(){var e=n.props.ual.activeUser;e.rpc.get_account(e.accountName).then((function(t){n.setState({account:t,fields:Object.assign({},n.state.fields,{actor:e.accountName})})}))},n.getBalance=function(){var e=n.props.ual.activeUser;e.rpc.get_currency_balance("fio.token",e.accountName,"fio").then((function(e){return n.setState({balance:e})}))},n.getFee=function(){n.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x1769ecaf35c00341b5a2e1760114648e",upper_bound:"0x1769ecaf35c00341b5a2e1760114648e",limit:1}).then((function(e){n.setState({fee:e.rows[0],fields:Object.assign({},n.state.fields,{max_fee:e.rows[0].suf_amount})})}))},n.hide=function(){return n.setState({show:!1})},n.show=function(){return n.setState({show:!0})},n.onChange=function(e,t){var a=t.name,r=t.value;return n.setState({fields:Object.assign({},n.state.fields,Object(R.a)({},a,r))})},n.onChangeAddress=function(e,t){var a=t.name,r=t.value;console.log(a,r),n.setState({fields:Object.assign({},n.state.fields,{public_addresses:[Object.assign({},n.state.fields.public_addresses[0],Object(R.a)({},a,r))]})})},n.transact=Object(I.a)(y.a.mark((function e(){var t,a,r,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.fields,a=n.props.ual.activeUser,e.prev=2,r=a.accountName,o=a.requestPermission,c={actions:[{account:"fio.address",name:"addaddress",authorization:[{actor:r,permission:o}],data:t}]},e.next=7,a.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:n.props.onSuccess(),n.hide(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),n.setState({errors:e.t0.cause.json.fields});case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),n.symbols=j.map((function(e){return{key:e,text:e,value:e}})),n.state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},D,{fio_address:n.props.address.name}),show:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=t.fee,c=t.fields,l=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Address Registration Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},o?r.a.createElement("strong",null,(o.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(c).map((function(t){var a=n.filter((function(e){return e.name===t})),o=Object(A.a)(a,1)[0];return"tpid"!==t&&("public_addresses"===t?r.a.createElement(B.a.Field,null,r.a.createElement("label",null,"Chain Code"),r.a.createElement(B.a.Dropdown,{autoFocus:!0,onChange:e.onChangeAddress,options:e.symbols,name:"chain_code",search:!0,selection:!0}),r.a.createElement("label",null,"Token Symbol"),r.a.createElement(B.a.Input,{name:"token_code",onChange:e.onChangeAddress,search:!0,selection:!0}),r.a.createElement("label",null,"Public Address"),r.a.createElement(B.a.Input,{name:"public_address",onChange:e.onChangeAddress,search:!0,selection:!0})):r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!o&&{content:o.error,pointing:"above"},name:t,onChange:e.onChange,value:c[t]})))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Add Address Association",floated:"right",primary:!0})))),header:"Associate an address",open:l,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Add Address Association",icon:"plus",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),U={fio_address:"",max_fee:"",actor:"",tpid:"tpid@greymass"},M=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onOpen=function(e,t){n.resetData(),n.getAccount(),n.getBalance(),n.getFee()},n.resetData=function(){return n.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},U,{fio_address:n.props.address.name})})},n.getAccount=function(){var e=n.props.ual.activeUser;e.rpc.get_account(e.accountName).then((function(t){n.setState({account:t,fields:Object.assign({},n.state.fields,{actor:e.accountName})})}))},n.getBalance=function(){var e=n.props.ual.activeUser;e.rpc.get_currency_balance("fio.token",e.accountName,"fio").then((function(e){return n.setState({balance:e})}))},n.getFee=function(){n.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x006297f2f6c829f9ea733362cd1d3e3a",upper_bound:"0x006297f2f6c829f9ea733362cd1d3e3a",limit:1}).then((function(e){n.setState({fee:e.rows[0],fields:Object.assign({},n.state.fields,{max_fee:e.rows[0].suf_amount})})}))},n.hide=function(){return n.setState({show:!1})},n.show=function(){return n.setState({show:!0})},n.onChange=function(e,t){var a=t.name,r=t.value;return n.setState({fields:Object.assign({},n.state.fields,Object(R.a)({},a,r))})},n.transact=Object(I.a)(y.a.mark((function e(){var t,a,r,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.fields,a=n.props.ual.activeUser,e.prev=2,r=a.accountName,o=a.requestPermission,c={actions:[{account:"fio.address",name:"renewaddress",authorization:[{actor:r,permission:o}],data:t}]},e.next=7,a.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:n.props.onSuccess(),n.hide(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.setState({errors:e.t0.cause.json.fields});case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),n.state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},U,{fio_address:n.props.address.name}),show:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=t.fee,c=t.fields,l=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Address Registration Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},o?r.a.createElement("strong",null,(o.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(c).map((function(t){var a=n.filter((function(e){return e.name===t})),o=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!o&&{content:o.error,pointing:"above"},name:t,onChange:e.onChange,value:c[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Renew Address",floated:"right",primary:!0})))),header:"Renew FIO Address",open:l,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Renew Address",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),P={disabled:!1,fio_address:"",new_owner_fio_public_key:"",max_fee:"",actor:"",tpid:"tpid@greymass"},X=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,disabled:!1,errors:[],fee:void 0,fields:P,show:!1},e.onOpen=function(t,a){e.resetData(),e.getAccount(),e.getBalance(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},P,{fio_address:e.props.address.name})})},e.getAccount=function(){var t=e.props.ual.activeUser;t.rpc.get_account(t.accountName).then((function(a){e.setState({account:a,fields:Object.assign({},e.state.fields,{actor:t.accountName})})}))},e.getBalance=function(){var t=e.props.ual.activeUser;t.rpc.get_currency_balance("fio.token",t.accountName,"fio").then((function(t){return e.setState({balance:t})}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x1a01296e38e9dcd89d5f3228db99cc26",upper_bound:"0x1a01296e38e9dcd89d5f3228db99cc26",limit:1}).then((function(t){t.rows.length?e.setState({disabled:!1,fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount})}):e.setState({disabled:!0})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.address",name:"xferaddress",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),e.setState({errors:t.t0.cause.json.fields});case 15:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.disabled,o=t.errors,c=t.fee,l=t.fields,s=t.show;return n?r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},"Feature not yet available."),header:"Transfer a FIO Address",open:s,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Transfer Address",onClick:this.show,primary:!0,size:"small"})}):r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Address Transfer Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},c?r.a.createElement("strong",null,(c.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:o.length,onSubmit:this.transact},Object.keys(l).filter((function(e){return"disabled"!==e})).map((function(t){var a=o.filter((function(e){return e.name===t})),n=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!n&&{content:n.error,pointing:"above"},name:t,onChange:e.onChange,value:l[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Transfer Address",floated:"right",primary:!0})))),header:"Transfer a FIO Address",open:s,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Transfer Address",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={addresses:[],owner_fio_public_key:""},e.sync=function(){var t=e.props.ual.activeUser;e.getAddresses(t.accountName)},e.onSuccess=function(){e.sync()},e.getAddresses=function(t){var a=e.props.ual.activeUser.rpc;a.get_table_rows({code:"fio.address",table:"fionames",scope:"fio.address",key_type:"name",index_position:4,lower_bound:t,upper_bound:t,limit:10}).then((function(n){var r={owner_account:t},o=Object(T.partition)(e.state.addresses,r),c=Object(A.a)(o,2)[1];a.get_account(t).then((function(t){e.setState({addresses:[].concat(Object(S.a)(c),Object(S.a)(n.rows)),owner_fio_public_key:t.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key})}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.ual.activeUser&&this.sync()}},{key:"render",value:function(){var e=this,t=this.state.addresses;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(p.a,{attached:"top",clearing:!0,secondary:!0},r.a.createElement(b.a,{floated:"left",size:"large"},"FIO Addresses",r.a.createElement(b.a.Subheader,null,"Manage the addresses you control and their associated keys.")),r.a.createElement(O.a,{content:"Refresh Data",floated:"right",icon:"refresh",onClick:this.sync}),r.a.createElement(x,{basic:!1,color:"blue",floated:"right",onSuccess:this.onSuccess,ual:this.props.ual}),r.a.createElement("a",{class:"ui blue right floated button",href:"https://reg.fioprotocol.io/address/fioreghelper?publicKey="+this.state.owner_fio_public_key},r.a.createElement("i",{"aria-hidden":"true",class:"dollar icon"}),"Buy FIO Address")),!t.length&&r.a.createElement(p.a,{attached:"bottom",size:"large",textAlign:"center"},r.a.createElement(b.a,null,"No addresses associated to this account. Register one to get started.")),!!t.length&&r.a.createElement(w.a,{attached:"bottom",padded:!0,striped:!0},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,null,"Domain Name"),r.a.createElement(w.a.HeaderCell,null,"Addresses"))),r.a.createElement(w.a.Body,null,t.map((function(t){return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{collapsing:!0,verticalAlign:"top"},r.a.createElement(b.a,null,t.name),r.a.createElement(w.a,{definition:!0},r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Bundled Txs"),r.a.createElement(w.a.Cell,null,t.bundleeligiblecountdown)),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Expires"),r.a.createElement(w.a.Cell,null,new Date(1e3*t.expiration).toUTCString())),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Renew"),r.a.createElement(w.a.Cell,null,r.a.createElement(M,{address:t,onSuccess:e.onSuccess,ual:e.props.ual}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Transfer"),r.a.createElement(w.a.Cell,null,r.a.createElement(X,{address:t,onSuccess:e.onSuccess,ual:e.props.ual})))))),r.a.createElement(w.a.Cell,{textAlign:"right"},t.addresses.length?r.a.createElement(w.a,{definition:!0},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,null,"Chain"),r.a.createElement(w.a.HeaderCell,null,"Token"),r.a.createElement(w.a.HeaderCell,null,"Address"))),r.a.createElement(w.a.Body,null,t.addresses.map((function(e){return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,e.chain_code),r.a.createElement(w.a.Cell,null,e.token_code),r.a.createElement(w.a.Cell,null,e.public_address))})))):r.a.createElement(p.a,{textAlign:"left"},r.a.createElement(b.a,{size:"small"},"No associated addresses",r.a.createElement(b.a.Subheader,null,"Create a new FIO address for this domain using the button below."))),r.a.createElement(L,{address:t,onSuccess:e.onSuccess,ual:e.props.ual})))})))))}}]),a}(n.Component),z={fio_domain:"",owner_fio_public_key:"",max_fee:"",actor:"",tpid:"tpid@greymass"},G=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:z,show:!1},e.onOpen=function(t,a){e.resetData(),e.getAccount(),e.getBalance(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:z})},e.getAccount=function(){var t=e.props.ual.activeUser;t.rpc.get_account(t.accountName).then((function(a){e.setState({account:a,fields:Object.assign({},e.state.fields,{actor:t.accountName,owner_fio_public_key:a.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key})})}))},e.getBalance=function(){var t=e.props.ual.activeUser;t.rpc.get_currency_balance("fio.token",t.accountName,"fio").then((function(t){return e.setState({balance:t})}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0xe7961b95f481a901b3bfa23b800c8fb3",upper_bound:"0xe7961b95f481a901b3bfa23b800c8fb3",limit:1}).then((function(t){e.setState({fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount})})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.address",name:"regdomain",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({errors:t.t0.cause.json.fields});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=t.fee,c=t.fields,l=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Domain Registration Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},o?r.a.createElement("strong",null,(o.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(c).map((function(t){var a=n.filter((function(e){return e.name===t})),o=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!o&&{content:o.error,pointing:"above"},name:t,onChange:e.onChange,value:c[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Register Domain",floated:"right",primary:!0})))),header:"Register a FIO Domain",open:l,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{content:"Register Domain",floated:"right",icon:"plus",onClick:this.show,primary:!0})})}}]),a}(n.Component),V={fio_domain:"",max_fee:"",actor:"",tpid:"tpid@greymass"},K=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onOpen=function(e,t){n.resetData(),n.getAccount(),n.getBalance(),n.getFee()},n.resetData=function(){return n.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},V,{fio_domain:n.props.domain.name})})},n.getAccount=function(){var e=n.props.ual.activeUser;e.rpc.get_account(e.accountName).then((function(t){n.setState({account:t,fields:Object.assign({},n.state.fields,{actor:e.accountName})})}))},n.getBalance=function(){var e=n.props.ual.activeUser;e.rpc.get_currency_balance("fio.token",e.accountName,"fio").then((function(e){return n.setState({balance:e})}))},n.getFee=function(){n.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x4d41a1a623015e4f0eb5492057967e72",upper_bound:"0x4d41a1a623015e4f0eb5492057967e72",limit:1}).then((function(e){n.setState({fee:e.rows[0],fields:Object.assign({},n.state.fields,{max_fee:e.rows[0].suf_amount})})}))},n.hide=function(){return n.setState({show:!1})},n.show=function(){return n.setState({show:!0})},n.onChange=function(e,t){var a=t.name,r=t.value;return n.setState({fields:Object.assign({},n.state.fields,Object(R.a)({},a,r))})},n.transact=Object(I.a)(y.a.mark((function e(){var t,a,r,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.fields,a=n.props.ual.activeUser,e.prev=2,r=a.accountName,o=a.requestPermission,c={actions:[{account:"fio.address",name:"renewdomain",authorization:[{actor:r,permission:o}],data:t}]},e.next=7,a.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:n.props.onSuccess(),n.hide(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.setState({errors:e.t0.cause.json.fields});case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),n.state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},V,{fio_domain:n.props.domain.name}),show:!1},console.log(n.props.domain.name),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=t.fee,c=t.fields,l=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Address Registration Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},o?r.a.createElement("strong",null,(o.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(c).map((function(t){var a=n.filter((function(e){return e.name===t})),o=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!o&&{content:o.error,pointing:"above"},name:t,onChange:e.onChange,value:c[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Renew Domain",floated:"right",primary:!0})))),header:"Renew FIO Domain",open:l,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Renew Domain",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),Z={fio_domain:"",is_public:0,max_fee:"",actor:"",tpid:"tpid@greymass"},Y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onOpen=function(e,t){n.resetData(),n.getAccount(),n.getBalance(),n.getFee()},n.resetData=function(){return n.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},Z,{fio_domain:n.props.domain.name,is_public:n.props.domain.is_public?0:1})})},n.getAccount=function(){var e=n.props.ual.activeUser;e.rpc.get_account(e.accountName).then((function(t){n.setState({account:t,fields:Object.assign({},n.state.fields,{actor:e.accountName})})}))},n.getBalance=function(){var e=n.props.ual.activeUser;e.rpc.get_currency_balance("fio.token",e.accountName,"fio").then((function(e){return n.setState({balance:e})}))},n.getFee=function(){n.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0xcc1f86ae2b6e01071a1998ffbcf27310",upper_bound:"0xcc1f86ae2b6e01071a1998ffbcf27310",limit:1}).then((function(e){n.setState({fee:e.rows[0],fields:Object.assign({},n.state.fields,{max_fee:e.rows[0].suf_amount})})}))},n.hide=function(){return n.setState({show:!1})},n.show=function(){return n.setState({show:!0})},n.onChange=function(e,t){var a=t.name,r=t.value;return n.setState({fields:Object.assign({},n.state.fields,Object(R.a)({},a,r))})},n.transact=Object(I.a)(y.a.mark((function e(){var t,a,r,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.fields,a=n.props.ual.activeUser,e.prev=2,r=a.accountName,o=a.requestPermission,c={actions:[{account:"fio.address",name:"setdomainpub",authorization:[{actor:r,permission:o}],data:t}]},e.next=7,a.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:n.props.onSuccess(),n.hide(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),n.setState({errors:e.t0.cause.json.fields});case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),n.state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},Z,{fio_domain:n.props.domain.name,is_public:n.props.domain.is_public?0:1}),show:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=t.fee,c=t.fields,l=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Domain Privacy Change Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},o?r.a.createElement("strong",null,(o.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(c).map((function(t){var a=n.filter((function(e){return e.name===t})),o=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!o&&{content:o.error,pointing:"above"},name:t,onChange:e.onChange,value:c[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:this.props.domain.is_public?"Make Private":"Make Public",floated:"right",primary:!0})))),header:"Change Domain Privacy",open:l,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:this.props.domain.is_public?"Make Private":"Make Public",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),W={disabled:!1,fio_domain:"",new_owner_fio_public_key:"",max_fee:"",actor:"",tpid:"tpid@greymass"},q=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,disabled:!1,errors:[],fee:void 0,fields:W,show:!1},e.onOpen=function(t,a){e.resetData(),e.getAccount(),e.getBalance(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:Object.assign({},W,{fio_domain:e.props.domain.name})})},e.getAccount=function(){var t=e.props.ual.activeUser;t.rpc.get_account(t.accountName).then((function(a){e.setState({account:a,fields:Object.assign({},e.state.fields,{actor:t.accountName})})}))},e.getBalance=function(){var t=e.props.ual.activeUser;t.rpc.get_currency_balance("fio.token",t.accountName,"fio").then((function(t){return e.setState({balance:t})}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x980f6aa5310bb851dc96f6a2d4521891",upper_bound:"0x980f6aa5310bb851dc96f6a2d4521891",limit:1}).then((function(t){t.rows.length?e.setState({disabled:!1,fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount})}):e.setState({disabled:!0})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.address",name:"xferdomain",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),e.setState({errors:t.t0.cause.json.fields});case 15:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.disabled,o=t.errors,c=t.fee,l=t.fields,s=t.show;return n?r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},"Feature not yet available."),header:"Transfer a FIO Domain",open:s,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Transfer Domain",onClick:this.show,primary:!0,size:"small"})}):r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,a[0]):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Domain Transfer Fee"),r.a.createElement(w.a.Cell,{textAlign:"right"},c?r.a.createElement("strong",null,(c.suf_amount/1e9).toFixed(9)," FIO"):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(B.a,{error:o.length,onSubmit:this.transact},Object.keys(l).filter((function(e){return"disabled"!==e})).map((function(t){var a=o.filter((function(e){return e.name===t})),n=Object(A.a)(a,1)[0];return"tpid"!==t&&r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!n&&{content:n.error,pointing:"above"},name:t,onChange:e.onChange,value:l[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Transfer Domain",floated:"right",primary:!0})))),header:"Transfer a FIO Domain",open:s,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{basic:!0,content:"Transfer Domain",onClick:this.show,primary:!0,size:"small"})})}}]),a}(n.Component),Q=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={addresses:[],domains:[],owner_fio_public_key:""},e.sync=function(){var t=e.props.ual.activeUser;e.getDomains(t.accountName)},e.onSuccess=function(){e.sync()},e.getDomains=function(t){var a=e.props.ual.activeUser.rpc;a.get_table_rows({code:"fio.address",table:"domains",scope:"fio.address",key_type:"name",index_position:2,lower_bound:t,upper_bound:t,limit:10}).then((function(t){e.setState({domains:t.rows}),t.rows.length&&t.rows.map(e.getAddresses)})),a.get_account(t).then((function(t){e.setState({owner_fio_public_key:t.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key})}))},e.getAddresses=function(t){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.address",table:"fionames",scope:"fio.address",key_type:"i128",index_position:2,lower_bound:t.domainhash,upper_bound:t.domainhash,limit:10}).then((function(t){e.setState({addresses:Object(T.uniqBy)([].concat(Object(S.a)(e.state.addresses),Object(S.a)(t.rows)),"id")})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.ual.activeUser&&this.sync()}},{key:"render",value:function(){var e=this,t=this.state,a=t.addresses,n=t.domains;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(p.a,{attached:"top",clearing:!0,secondary:!0},r.a.createElement(b.a,{floated:"left",size:"large"},"FIO Domains",r.a.createElement(b.a.Subheader,null,"Manage the domains you control and address associations.")),r.a.createElement(O.a,{content:"Refresh Data",floated:"right",icon:"refresh",onClick:this.sync}),r.a.createElement(G,{onSuccess:this.onSuccess,ual:this.props.ual}),r.a.createElement("a",{class:"ui blue right floated button",href:"https://reg.fioprotocol.io/domain/fioreghelper?publicKey="+this.state.owner_fio_public_key},r.a.createElement("i",{"aria-hidden":"true",class:"dollar icon"}),"Buy FIO Domain")),!n.length&&r.a.createElement(p.a,{attached:"bottom",size:"large",textAlign:"center"},r.a.createElement(b.a,null,"No domains associated to this account. Register one to get started.")),!!n.length&&r.a.createElement(w.a,{attached:"bottom",padded:!0,striped:!0},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.HeaderCell,null,"Domain Name"),r.a.createElement(w.a.HeaderCell,null,"Addresses"))),r.a.createElement(w.a.Body,null,n.map((function(t){var n=a.filter((function(e){return e.domain===t.name}));return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,{collapsing:!0,verticalAlign:"top"},r.a.createElement(b.a,null,"@",t.name),r.a.createElement(w.a,{definition:!0},r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,t.is_public?"Public":"Private"),r.a.createElement(w.a.Cell,null,r.a.createElement(Y,{domain:t,onSuccess:e.onSuccess,ual:e.props.ual}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Expires"),r.a.createElement(w.a.Cell,null,new Date(1e3*t.expiration).toUTCString())),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Renew"),r.a.createElement(w.a.Cell,null,r.a.createElement(K,{domain:t,onSuccess:e.onSuccess,ual:e.props.ual}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Transfer"),r.a.createElement(w.a.Cell,null,r.a.createElement(q,{domain:t,onSuccess:e.onSuccess,ual:e.props.ual})))))),r.a.createElement(w.a.Cell,{textAlign:"right"},n.length?r.a.createElement(w.a,{definition:!0},r.a.createElement(w.a.Body,null,n.map((function(e){return r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,e.name),r.a.createElement(w.a.Cell,null,e.addresses[0].public_address,r.a.createElement("br",null),"Expires: ",new Date(1e3*e.expiration).toLocaleDateString()))})))):r.a.createElement(p.a,{textAlign:"left"},r.a.createElement(b.a,{size:"small"},"No associated addresses",r.a.createElement(b.a.Subheader,null,"Create a new FIO address for this domain using the button below."))),r.a.createElement(x,{domain:t,onSuccess:e.onSuccess,ual:e.props.ual})))})))))}}]),a}(n.Component),J={fio_address:"",amount:"",max_fee:"",actor:"",tpid:""},$=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:J,show:!1},e.onOpen=function(t,a){e.resetData(),e.getFIOBalanceAndAccount(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:J})},e.getFIOBalanceAndAccount=function(){var t=e.props.ual.activeUser,a=void 0;t.rpc.get_account(t.accountName).then((function(n){a=n.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key,e.setState({account:n,fields:Object.assign({},e.state.fields,{actor:t.accountName,owner_fio_public_key:a})}),t.rpc.fetch("/v1/chain/get_fio_balance",{fio_public_key:a}).then((function(t){return e.setState({balance:t})}))}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x83c48bde1205347001e4ddd44c571f78",upper_bound:"0x83c48bde1205347001e4ddd44c571f78",limit:1}).then((function(t){e.setState({fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount+1e8})})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.staking",name:"stakefio",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({errors:t.t0.cause.json.fields});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=(t.fee,t.fields),c=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Staked"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.staked/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Being Refunded"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,((a.balance-a.available-a.staked)/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Available"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.available/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.balance/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(p.a,null,r.a.createElement("text",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Note:")," Amount and Max Fee are denominated in in SUFs or Smallest Units of FIO. To denominate in FIO, add nine zeros.",r.a.createElement("br",null),"For example, 100 FIO is 100000000000 SUF. Add nine zeros to the number of FIO you want to stake or unstake.",r.a.createElement("br",null),"If you're looking for a valid proxy to use in the Tpid field:",r.a.createElement("br",null),"Testnet: proxy@fiotestnet",r.a.createElement("br",null),"Mainnet: proxy@greymass",r.a.createElement("br",null)))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(o).map((function(t){var a=n.filter((function(e){return e.name===t})),c=Object(A.a)(a,1)[0];return r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!c&&{content:c.error,pointing:"above"},name:t,onChange:e.onChange,value:o[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Stake FIO Tokens",floated:"right",primary:!0})))),header:"Stake FIO Tokens",open:c,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{content:"Stake FIO",floated:"right",icon:"plus",onClick:this.show,primary:!0})})}}]),a}(n.Component),ee={fio_address:"",amount:"",max_fee:"",actor:"",tpid:""},te=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={account:void 0,balance:void 0,errors:[],fee:void 0,fields:ee,show:!1},e.onOpen=function(t,a){e.resetData(),e.getFIOBalanceAndAccount(),e.getFee()},e.resetData=function(){return e.setState({account:void 0,balance:void 0,errors:[],fee:void 0,fields:ee})},e.getFIOBalanceAndAccount=function(){var t=e.props.ual.activeUser,a=void 0;t.rpc.get_account(t.accountName).then((function(n){a=n.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key,e.setState({account:n,fields:Object.assign({},e.state.fields,{actor:t.accountName,owner_fio_public_key:a})}),t.rpc.fetch("/v1/chain/get_fio_balance",{fio_public_key:a}).then((function(t){return e.setState({balance:t})}))}))},e.getFee=function(){e.props.ual.activeUser.rpc.get_table_rows({code:"fio.fee",table:"fiofees",scope:"fio.fee",key_type:"i128",index_position:2,lower_bound:"0x85248efc2886d68989b010f21cb2f480",upper_bound:"0x85248efc2886d68989b010f21cb2f480",limit:1}).then((function(t){e.setState({fee:t.rows[0],fields:Object.assign({},e.state.fields,{max_fee:t.rows[0].suf_amount+1e8})})}))},e.hide=function(){return e.setState({show:!1})},e.show=function(){return e.setState({show:!0})},e.onChange=function(t,a){var n=a.name,r=a.value;return e.setState({fields:Object.assign({},e.state.fields,Object(R.a)({},n,r))})},e.transact=Object(I.a)(y.a.mark((function t(){var a,n,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.fields,n=e.props.ual.activeUser,t.prev=2,r=n.accountName,o=n.requestPermission,c={actions:[{account:"fio.staking",name:"unstakefio",authorization:[{actor:r,permission:o}],data:a}]},t.next=7,n.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 7:e.props.onSuccess(),e.hide(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState({errors:t.t0.cause.json.fields});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.errors,o=(t.fee,t.fields),c=t.show;return r.a.createElement(N.a,{closeIcon:!0,content:r.a.createElement(p.a,{padded:!0,size:"large",style:{marginTop:0}},r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Staked"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.staked/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Being Refunded"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,((a.balance-a.available-a.staked)/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Available"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.available/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},a?r.a.createElement("strong",null,(a.balance/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))))),r.a.createElement(p.a,null,r.a.createElement("text",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Note:")," Amount and Max Fee are denominated in in SUFs or Smallest Units of FIO. To denominate in FIO, add nine zeros.",r.a.createElement("br",null),"For example, 100 FIO is 100000000000 SUF. Add nine zeros to the number of FIO you want to stake or unstake.",r.a.createElement("br",null),"If you're looking for a valid proxy to use in the Tpid field:",r.a.createElement("br",null),"Testnet: proxy@fiotestnet",r.a.createElement("br",null),"Mainnet: proxy@greymass",r.a.createElement("br",null)))),r.a.createElement(B.a,{error:n.length,onSubmit:this.transact},Object.keys(o).map((function(t){var a=n.filter((function(e){return e.name===t})),c=Object(A.a)(a,1)[0];return r.a.createElement(B.a.Field,null,r.a.createElement("label",{style:{textTransform:"capitalize"}},t.replace(/_/g," ")),r.a.createElement(B.a.Input,{error:!!c&&{content:c.error,pointing:"above"},name:t,onChange:e.onChange,value:o[t]}))})),r.a.createElement(C.a,{error:!0,header:"An error occurred while submitting the transaction",content:"Check the red fields above to correct the problems and try again."}),r.a.createElement(p.a,{basic:!0,clearing:!0},r.a.createElement(O.a,{content:"Unstake FIO Tokens",floated:"right",primary:!0})))),header:"Unstake FIO Tokens",open:c,onClose:this.hide,onOpen:this.onOpen,trigger:r.a.createElement(O.a,{content:"Unstake FIO",floated:"right",icon:"plus",onClick:this.show,primary:!0})})}}]),a}(n.Component),ae=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={balance:void 0},e.sync=function(){e.props.ual.activeUser;e.getFIOBalance()},e.onSuccess=function(){e.sync()},e.getFIOBalance=function(){var t=e.props.ual.activeUser;t.rpc.get_account(t.accountName).then((function(a){t.rpc.fetch("/v1/chain/get_fio_balance",{fio_public_key:a.permissions.filter((function(e){return"owner"===e.perm_name}))[0].required_auth.keys[0].key}).then((function(t){return e.setState({balance:t})}))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.ual.activeUser&&this.sync()}},{key:"render",value:function(){var e=this.state.balance;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(p.a,{attached:"top",clearing:!0,secondary:!0},r.a.createElement(b.a,{floated:"left",size:"large"},"FIO Token Staking",r.a.createElement(b.a.Subheader,null,"If you have voted or set a proxy, your FIO tokens can be staked.")),r.a.createElement(O.a,{content:"Refresh Data",floated:"right",icon:"refresh",onClick:this.sync})),r.a.createElement(p.a,{color:"blue",secondary:!0},r.a.createElement(w.a,{size:"large"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Staked"),r.a.createElement(w.a.Cell,{textAlign:"right"},e?r.a.createElement("strong",null,(e.staked/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0})),r.a.createElement(w.a.Cell,{textAlign:"right"},r.a.createElement(te,{onSuccess:this.onSuccess,ual:this.props.ual}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Being Refunded"),r.a.createElement(w.a.Cell,{textAlign:"right"},e?r.a.createElement("strong",null,((e.balance-e.available-e.staked)/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"FIO Available"),r.a.createElement(w.a.Cell,{textAlign:"right"},e?r.a.createElement("strong",null,(e.available/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0})),r.a.createElement(w.a.Cell,{textAlign:"right"},r.a.createElement($,{onSuccess:this.onSuccess,ual:this.props.ual}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Cell,null,"Current FIO Balance"),r.a.createElement(w.a.Cell,{textAlign:"right"},e?r.a.createElement("strong",null,(e.balance/1e9).toFixed(9)):r.a.createElement(k.a,{name:"spinner",loading:!0}))))))}}]),a}(n.Component),ne=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.ual,t=e.chains,a=[{menuItem:"Address Management",render:function(){return r.a.createElement(h.a.Pane,null,r.a.createElement(H,{ual:e}))}},{menuItem:"Domain Management",render:function(){return r.a.createElement(h.a.Pane,null,r.a.createElement(Q,{ual:e}))}},{menuItem:"Staking",render:function(){return r.a.createElement(h.a.Pane,null,r.a.createElement(ae,{ual:e}))}}];return r.a.createElement(E.a,{style:{margin:"3em 0"}},r.a.createElement(g.a,{relaxed:!0},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{width:10},r.a.createElement(b.a,{size:"large"},"FIO Registration Helper",r.a.createElement(b.a.Subheader,null,"A tool to assist with domain and address registration."))),r.a.createElement(g.a.Column,{width:6,textAlign:"right"},r.a.createElement(v,{ual:e}))),"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e"===t[0].chainId?r.a.createElement(g.a.Row,{columns:1},r.a.createElement(g.a.Column,null,r.a.createElement(C.a,{content:"This app is in developer mode and uses the FIO Testnet (".concat(t[0].chainId,")."),header:"TESTNET Mode",icon:"warning sign",size:"large",warning:!0}))):r.a.createElement(g.a.Row,{columns:1},r.a.createElement(g.a.Column,null,r.a.createElement(C.a,{content:"This app is in a BETA product and is connected to the FIO Mainnet (".concat(t[0].chainId,")."),header:"FIO Mainnet",icon:"info circle",info:!0,size:"large"}))),r.a.createElement(g.a.Row,{columns:1},r.a.createElement(g.a.Column,null,e.activeUser?r.a.createElement(h.a,{menu:{attached:"top",icon:"home",size:"huge",tabular:!0},panes:a}):r.a.createElement(p.a,{size:"large",stacked:!0,textAlign:"center"},r.a.createElement("p",null,"Login to manage domains and addresses for the FIO blockchain."),r.a.createElement(v,{ual:e}))))))}}]),a}(n.Component),re={chainId:"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c",name:"FIO",rpcEndpoints:[{protocol:"https",host:"fio.greymass.com",port:443}]},oe={chainId:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",name:"FIO Testnet",rpcEndpoints:[{protocol:"https",host:"fiotestnet.blockpane.com",port:443}]},ce=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=re;"?testnet"===window.location.search&&(e=oe);var t=new d.Anchor([e],{appName:"fio-register"}),a=new m.Scatter([e],{appName:"fio-register"});return r.a.createElement(f.UALProvider,{appName:"FIO Registration",authenticators:[t,a],chains:[e]},r.a.createElement(le,null),r.a.createElement(p.a,{basic:!0,textAlign:"center"},"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e"===e.chainId?r.a.createElement("a",{href:"/fio-register"},"Switch to use FIO Mainnet"):r.a.createElement("a",{href:"/fio-register?testnet"},"Switch to use FIO Testnet")))}}]),a}(n.Component),le=Object(f.withUAL)(ne),se=function(){return r.a.createElement(ce,null)},ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(812);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fio-register",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/fio-register","/service-worker.js");ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ue(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ue(t,e)}))}}()}},[[421,1,2]]]);
//# sourceMappingURL=main.46d53d60.chunk.js.map